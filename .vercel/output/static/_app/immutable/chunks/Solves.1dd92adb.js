import{s as Re,J as Wn,h as x,b as V,j as P,k as q,c as j,f as E,L as ae,l as M,M as Kn,d as z,N as w,S as ue,i as Jt,O as Xn,P as Qn,Q as Yn,r as et,o as ei,V as ti,p as J,q as G,n as qe,a1 as St,u as fe,R as at,v as ut,e as Ot,a0 as yt}from"./scheduler.4afb9c7b.js";import{S as Ve,i as je,a as ne,t as oe,g as ct,c as ft,b as Ie,d as De,m as Me,e as Ae,f as Bt}from"./index.da0d1e51.js";import{e as Te}from"./each.e59479a4.js";import{I as Et}from"./Icon.37d97ff6.js";import{s as kt,c as Gt,b as ni}from"./solves.205925c1.js";import{w as Wt}from"./index.440ffa8a.js";var Kt={},tt=Object.defineProperty,ii=Object.getOwnPropertyDescriptor,ri=Object.getOwnPropertyNames,si=Object.prototype.hasOwnProperty,b=(e,t)=>tt(e,"name",{value:t,configurable:!0}),oi=(e,t)=>{for(var n in t)tt(e,n,{get:t[n],enumerable:!0})},li=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ri(t))!si.call(e,r)&&r!==n&&tt(e,r,{get:()=>t[r],enumerable:!(i=ii(t,r))||i.enumerable});return e},ai=e=>li(tt({},"__esModule",{value:!0}),e),Xt={};oi(Xt,{Decimal:()=>vi,makeStrictEnum:()=>Yt,objectEnumValues:()=>ci});var ui=ai(Xt),Ge=Symbol(),ot=new WeakMap,Qt=class{constructor(e){e===Ge?ot.set(this,`Prisma.${this._getName()}`):ot.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return ot.get(this)}};b(Qt,"ObjectEnumValue");var nt=class extends Qt{_getNamespace(){return"NullTypes"}};b(nt,"NullTypesEnumValue");var dt=class extends nt{};b(dt,"DbNull");var ht=class extends nt{};b(ht,"JsonNull");var mt=class extends nt{};b(mt,"AnyNull");var ci={classes:{DbNull:dt,JsonNull:ht,AnyNull:mt},instances:{DbNull:new dt(Ge),JsonNull:new ht(Ge),AnyNull:new mt(Ge)}},fi=new Set(["toJSON","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function Yt(e){return new Proxy(e,{get(t,n){if(n in t)return t[n];if(!fi.has(n))throw new TypeError(`Invalid enum value: ${String(n)}`)}})}b(Yt,"makeStrictEnum");var Ce=9e15,ke=1e9,pt="0123456789abcdef",We="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Ke="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",gt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ce,maxE:Ce,crypto:!1},en,_e,y=!0,it="[DecimalError] ",Ee=it+"Invalid argument: ",tn=it+"Precision limit exceeded",nn=it+"crypto unavailable",rn="[object Decimal]",ie=Math.floor,Y=Math.pow,di=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,hi=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,mi=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,sn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,he=1e7,C=7,pi=9007199254740991,gi=We.length-1,vt=Ke.length-1,p={toStringTag:rn};p.absoluteValue=p.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),I(e)};p.ceil=function(){return I(new this.constructor(this),this.e+1,2)};p.clampedTo=p.clamp=function(e,t){var n,i=this,r=i.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(Ee+t);return n=i.cmp(e),n<0?e:i.cmp(t)>0?t:new r(i)};p.comparedTo=p.cmp=function(e){var t,n,i,r,s=this,o=s.d,a=(e=new s.constructor(e)).d,u=s.s,l=e.s;if(!o||!a)return!u||!l?NaN:u!==l?u:o===a?0:!o^u<0?1:-1;if(!o[0]||!a[0])return o[0]?u:a[0]?-l:0;if(u!==l)return u;if(s.e!==e.e)return s.e>e.e^u<0?1:-1;for(i=o.length,r=a.length,t=0,n=i<r?i:r;t<n;++t)if(o[t]!==a[t])return o[t]>a[t]^u<0?1:-1;return i===r?0:i>r^u<0?1:-1};p.cosine=p.cos=function(){var e,t,n=this,i=n.constructor;return n.d?n.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+C,i.rounding=1,n=on(i,xt(i,n)),i.precision=e,i.rounding=t,I(_e==2||_e==3?n.neg():n,e,t,!0)):new i(1):new i(NaN)};p.cubeRoot=p.cbrt=function(){var e,t,n,i,r,s,o,a,u,l,c=this,d=c.constructor;if(!c.isFinite()||c.isZero())return new d(c);for(y=!1,s=c.s*Y(c.s*c,1/3),!s||Math.abs(s)==1/0?(n=ee(c.d),e=c.e,(s=(e-n.length+1)%3)&&(n+=s==1||s==-2?"0":"00"),s=Y(n,1/3),e=ie((e+1)/3)-(e%3==(e<0?-1:2)),s==1/0?n="5e"+e:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),i=new d(n),i.s=c.s):i=new d(s.toString()),o=(e=d.precision)+3;;)if(a=i,u=a.times(a).times(a),l=u.plus(c),i=Z(l.plus(c).times(a),l.plus(u),o+2,1),ee(a.d).slice(0,o)===(n=ee(i.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!r&&n=="4999"){if(!r&&(I(a,e+1,0),a.times(a).times(a).eq(c))){i=a;break}o+=4,r=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(I(i,e+1,1),t=!i.times(i).times(i).eq(c));break}return y=!0,I(i,e,d.rounding,t)};p.decimalPlaces=p.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-ie(this.e/C))*C,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};p.dividedBy=p.div=function(e){return Z(this,new this.constructor(e))};p.dividedToIntegerBy=p.divToInt=function(e){var t=this,n=t.constructor;return I(Z(t,new n(e),0,1,1),n.precision,n.rounding)};p.equals=p.eq=function(e){return this.cmp(e)===0};p.floor=function(){return I(new this.constructor(this),this.e+1,3)};p.greaterThan=p.gt=function(e){return this.cmp(e)>0};p.greaterThanOrEqualTo=p.gte=function(e){var t=this.cmp(e);return t==1||t===0};p.hyperbolicCosine=p.cosh=function(){var e,t,n,i,r,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;n=o.precision,i=o.rounding,o.precision=n+Math.max(s.e,s.sd())+4,o.rounding=1,r=s.d.length,r<32?(e=Math.ceil(r/3),t=(1/Ze(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),s=xe(o,1,s.times(t),new o(1),!0);for(var u,l=e,c=new o(8);l--;)u=s.times(s),s=a.minus(u.times(c.minus(u.times(c))));return I(s,o.precision=n,o.rounding=i,!0)};p.hyperbolicSine=p.sinh=function(){var e,t,n,i,r=this,s=r.constructor;if(!r.isFinite()||r.isZero())return new s(r);if(t=s.precision,n=s.rounding,s.precision=t+Math.max(r.e,r.sd())+4,s.rounding=1,i=r.d.length,i<3)r=xe(s,2,r,r,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,r=r.times(1/Ze(5,e)),r=xe(s,2,r,r,!0);for(var o,a=new s(5),u=new s(16),l=new s(20);e--;)o=r.times(r),r=r.times(a.plus(o.times(u.times(o).plus(l))))}return s.precision=t,s.rounding=n,I(r,t,n,!0)};p.hyperbolicTangent=p.tanh=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,Z(n.sinh(),n.cosh(),i.precision=e,i.rounding=t)):new i(n.s)};p.inverseCosine=p.acos=function(){var e,t=this,n=t.constructor,i=t.abs().cmp(1),r=n.precision,s=n.rounding;return i!==-1?i===0?t.isNeg()?ce(n,r,s):new n(0):new n(NaN):t.isZero()?ce(n,r+4,s).times(.5):(n.precision=r+6,n.rounding=1,t=t.asin(),e=ce(n,r+4,s).times(.5),n.precision=r,n.rounding=s,e.minus(t))};p.inverseHyperbolicCosine=p.acosh=function(){var e,t,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,y=!1,n=n.times(n).minus(1).sqrt().plus(n),y=!0,i.precision=e,i.rounding=t,n.ln()):new i(n)};p.inverseHyperbolicSine=p.asinh=function(){var e,t,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,y=!1,n=n.times(n).plus(1).sqrt().plus(n),y=!0,i.precision=e,i.rounding=t,n.ln())};p.inverseHyperbolicTangent=p.atanh=function(){var e,t,n,i,r=this,s=r.constructor;return r.isFinite()?r.e>=0?new s(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=s.precision,t=s.rounding,i=r.sd(),Math.max(i,e)<2*-r.e-1?I(new s(r),e,t,!0):(s.precision=n=i-r.e,r=Z(r.plus(1),new s(1).minus(r),n+e,1),s.precision=e+4,s.rounding=1,r=r.ln(),s.precision=e,s.rounding=t,r.times(.5))):new s(NaN)};p.inverseSine=p.asin=function(){var e,t,n,i,r=this,s=r.constructor;return r.isZero()?new s(r):(t=r.abs().cmp(1),n=s.precision,i=s.rounding,t!==-1?t===0?(e=ce(s,n+4,i).times(.5),e.s=r.s,e):new s(NaN):(s.precision=n+6,s.rounding=1,r=r.div(new s(1).minus(r.times(r)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=i,r.times(2)))};p.inverseTangent=p.atan=function(){var e,t,n,i,r,s,o,a,u,l=this,c=l.constructor,d=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&d+4<=vt)return o=ce(c,d+4,f).times(.25),o.s=l.s,o}else{if(!l.s)return new c(NaN);if(d+4<=vt)return o=ce(c,d+4,f).times(.5),o.s=l.s,o}for(c.precision=a=d+10,c.rounding=1,n=Math.min(28,a/C+2|0),e=n;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(y=!1,t=Math.ceil(a/C),i=1,u=l.times(l),o=new c(l),r=l;e!==-1;)if(r=r.times(u),s=o.minus(r.div(i+=2)),r=r.times(u),o=s.plus(r.div(i+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===s.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),y=!0,I(o,c.precision=d,c.rounding=f,!0)};p.isFinite=function(){return!!this.d};p.isInteger=p.isInt=function(){return!!this.d&&ie(this.e/C)>this.d.length-2};p.isNaN=function(){return!this.s};p.isNegative=p.isNeg=function(){return this.s<0};p.isPositive=p.isPos=function(){return this.s>0};p.isZero=function(){return!!this.d&&this.d[0]===0};p.lessThan=p.lt=function(e){return this.cmp(e)<0};p.lessThanOrEqualTo=p.lte=function(e){return this.cmp(e)<1};p.logarithm=p.log=function(e){var t,n,i,r,s,o,a,u,l=this,c=l.constructor,d=c.precision,f=c.rounding,h=5;if(e==null)e=new c(10),t=!0;else{if(e=new c(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new c(n&&!n[0]?-1/0:l.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)s=!0;else{for(r=n[0];r%10===0;)r/=10;s=r!==1}if(y=!1,a=d+h,o=be(l,a),i=t?Ue(c,a+10):be(e,a),u=Z(o,i,a,1),Oe(u.d,r=d,f))do if(a+=10,o=be(l,a),i=t?Ue(c,a+10):be(e,a),u=Z(o,i,a,1),!s){+ee(u.d).slice(r+1,r+15)+1==1e14&&(u=I(u,d+1,0));break}while(Oe(u.d,r+=10,f));return y=!0,I(u,d,f)};p.minus=p.sub=function(e){var t,n,i,r,s,o,a,u,l,c,d,f,h=this,g=h.constructor;if(e=new g(e),!h.d||!e.d)return!h.s||!e.s?e=new g(NaN):h.d?e.s=-e.s:e=new g(e.d||h.s!==e.s?h:NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(l=h.d,f=e.d,a=g.precision,u=g.rounding,!l[0]||!f[0]){if(f[0])e.s=-e.s;else if(l[0])e=new g(h);else return new g(u===3?-0:0);return y?I(e,a,u):e}if(n=ie(e.e/C),c=ie(h.e/C),l=l.slice(),s=c-n,s){for(d=s<0,d?(t=l,s=-s,o=f.length):(t=f,n=c,o=l.length),i=Math.max(Math.ceil(a/C),o)+2,s>i&&(s=i,t.length=1),t.reverse(),i=s;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(t=l,l=f,f=t,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(r=i;r&&l[--r]===0;)l[r]=he-1;--l[r],l[i]+=he}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=He(l,n),y?I(e,a,u):e):new g(u===3?-0:0)};p.modulo=p.mod=function(e){var t,n=this,i=n.constructor;return e=new i(e),!n.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||n.d&&!n.d[0]?I(new i(n),i.precision,i.rounding):(y=!1,i.modulo==9?(t=Z(n,e.abs(),0,3,1),t.s*=e.s):t=Z(n,e,0,i.modulo,1),t=t.times(e),y=!0,n.minus(t))};p.naturalExponential=p.exp=function(){return Xe(this)};p.naturalLogarithm=p.ln=function(){return be(this)};p.negated=p.neg=function(){var e=new this.constructor(this);return e.s=-e.s,I(e)};p.plus=p.add=function(e){var t,n,i,r,s,o,a,u,l,c,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return!d.s||!e.s?e=new f(NaN):d.d||(e=new f(e.d||d.s===e.s?d:NaN)),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(l=d.d,c=e.d,a=f.precision,u=f.rounding,!l[0]||!c[0])return c[0]||(e=new f(d)),y?I(e,a,u):e;if(s=ie(d.e/C),i=ie(e.e/C),l=l.slice(),r=s-i,r){for(r<0?(n=l,r=-r,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(a/C),o=s>o?s+1:o+1,r>o&&(r=o,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for(o=l.length,r=c.length,o-r<0&&(r=o,n=c,c=l,l=n),t=0;r;)t=(l[--r]=l[r]+c[r]+t)/he|0,l[r]%=he;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=He(l,i),y?I(e,a,u):e};p.precision=p.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ee+e);return n.d?(t=It(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};p.round=function(){var e=this,t=e.constructor;return I(new t(e),e.e+1,t.rounding)};p.sine=p.sin=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+C,i.rounding=1,n=an(i,xt(i,n)),i.precision=e,i.rounding=t,I(_e>2?n.neg():n,e,t,!0)):new i(NaN)};p.squareRoot=p.sqrt=function(){var e,t,n,i,r,s,o=this,a=o.d,u=o.e,l=o.s,c=o.constructor;if(l!==1||!a||!a[0])return new c(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(y=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=ee(a),(t.length+u)%2==0&&(t+="0"),l=Math.sqrt(t),u=ie((u+1)/2)-(u<0||u%2),l==1/0?t="5e"+u:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+u),i=new c(t)):i=new c(l.toString()),n=(u=c.precision)+3;;)if(s=i,i=s.plus(Z(o,s,n+2,1)).times(.5),ee(s.d).slice(0,n)===(t=ee(i.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!r&&t=="4999"){if(!r&&(I(s,u+1,0),s.times(s).eq(o))){i=s;break}n+=4,r=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(I(i,u+1,1),e=!i.times(i).eq(o));break}return y=!0,I(i,u,c.rounding,e)};p.tangent=p.tan=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,n=n.sin(),n.s=1,n=Z(n,new i(1).minus(n.times(n)).sqrt(),e+10,0),i.precision=e,i.rounding=t,I(_e==2||_e==4?n.neg():n,e,t,!0)):new i(NaN)};p.times=p.mul=function(e){var t,n,i,r,s,o,a,u,l,c=this,d=c.constructor,f=c.d,h=(e=new d(e)).d;if(e.s*=c.s,!f||!f[0]||!h||!h[0])return new d(!e.s||f&&!f[0]&&!h||h&&!h[0]&&!f?NaN:!f||!h?e.s/0:e.s*0);for(n=ie(c.e/C)+ie(e.e/C),u=f.length,l=h.length,u<l&&(s=f,f=h,h=s,o=u,u=l,l=o),s=[],o=u+l,i=o;i--;)s.push(0);for(i=l;--i>=0;){for(t=0,r=u+i;r>i;)a=s[r]+h[i]*f[r-i-1]+t,s[r--]=a%he|0,t=a/he|0;s[r]=(s[r]+t)%he|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=He(s,n),y?I(e,d.precision,d.rounding):e};p.toBinary=function(e,t){return rt(this,2,e,t)};p.toDecimalPlaces=p.toDP=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(se(e,0,ke),t===void 0?t=i.rounding:se(t,0,8),I(n,e+n.e+1,t))};p.toExponential=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=me(i,!0):(se(e,0,ke),t===void 0?t=r.rounding:se(t,0,8),i=I(new r(i),e+1,t),n=me(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};p.toFixed=function(e,t){var n,i,r=this,s=r.constructor;return e===void 0?n=me(r):(se(e,0,ke),t===void 0?t=s.rounding:se(t,0,8),i=I(new s(r),e+r.e+1,t),n=me(i,!1,e+i.e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};p.toFraction=function(e){var t,n,i,r,s,o,a,u,l,c,d,f,h=this,g=h.d,m=h.constructor;if(!g)return new m(h);if(l=n=new m(1),i=u=new m(0),t=new m(i),s=t.e=It(g)-h.e-1,o=s%C,t.d[0]=Y(10,o<0?C+o:o),e==null)e=s>0?t:l;else{if(a=new m(e),!a.isInt()||a.lt(l))throw Error(Ee+a);e=a.gt(t)?s>0?t:l:a}for(y=!1,a=new m(ee(g)),c=m.precision,m.precision=s=g.length*C*2;d=Z(a,t,0,1,1),r=n.plus(d.times(i)),r.cmp(e)!=1;)n=i,i=r,r=l,l=u.plus(d.times(r)),u=r,r=t,t=a.minus(d.times(r)),a=r;return r=Z(e.minus(n),i,0,1,1),u=u.plus(r.times(l)),n=n.plus(r.times(i)),u.s=l.s=h.s,f=Z(l,i,s,1).minus(h).abs().cmp(Z(u,n,s,1).minus(h).abs())<1?[l,i]:[u,n],m.precision=c,y=!0,f};p.toHexadecimal=p.toHex=function(e,t){return rt(this,16,e,t)};p.toNearest=function(e,t){var n=this,i=n.constructor;if(n=new i(n),e==null){if(!n.d)return n;e=new i(1),t=i.rounding}else{if(e=new i(e),t===void 0?t=i.rounding:se(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(y=!1,n=Z(n,e,0,t,1).times(e),y=!0,I(n)):(e.s=n.s,n=e),n};p.toNumber=function(){return+this};p.toOctal=function(e,t){return rt(this,8,e,t)};p.toPower=p.pow=function(e){var t,n,i,r,s,o,a=this,u=a.constructor,l=+(e=new u(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new u(Y(+a,l));if(a=new u(a),a.eq(1))return a;if(i=u.precision,s=u.rounding,e.eq(1))return I(a,i,s);if(t=ie(e.e/C),t>=e.d.length-1&&(n=l<0?-l:l)<=pi)return r=Dt(u,a,n,i),e.s<0?new u(1).div(r):I(r,i,s);if(o=a.s,o<0){if(t<e.d.length-1)return new u(NaN);if(e.d[t]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return n=Y(+a,l),t=n==0||!isFinite(n)?ie(l*(Math.log("0."+ee(a.d))/Math.LN10+a.e+1)):new u(n+"").e,t>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(y=!1,u.rounding=a.s=1,n=Math.min(12,(t+"").length),r=Xe(e.times(be(a,i+n)),i),r.d&&(r=I(r,i+5,1),Oe(r.d,i,s)&&(t=i+10,r=I(Xe(e.times(be(a,t+n)),t),t+5,1),+ee(r.d).slice(i+1,i+15)+1==1e14&&(r=I(r,i+1,0)))),r.s=o,y=!0,u.rounding=s,I(r,i,s))};p.toPrecision=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=me(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(se(e,1,ke),t===void 0?t=r.rounding:se(t,0,8),i=I(new r(i),e,t),n=me(i,e<=i.e||i.e<=r.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+n:n};p.toSignificantDigits=p.toSD=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(se(e,1,ke),t===void 0?t=i.rounding:se(t,0,8)),I(new i(n),e,t)};p.toString=function(){var e=this,t=e.constructor,n=me(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};p.truncated=p.trunc=function(){return I(new this.constructor(this),this.e+1,1)};p.valueOf=p.toJSON=function(){var e=this,t=e.constructor,n=me(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function ee(e){var t,n,i,r=e.length-1,s="",o=e[0];if(r>0){for(s+=o,t=1;t<r;t++)i=e[t]+"",n=C-i.length,n&&(s+=we(n)),s+=i;o=e[t],i=o+"",n=C-i.length,n&&(s+=we(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}b(ee,"digitsToString");function se(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ee+e)}b(se,"checkInt32");function Oe(e,t,n,i){var r,s,o,a;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=C,r=0):(r=Math.ceil((t+1)/C),t%=C),s=Y(10,C-t),a=e[r]%s|0,i==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):o=(n<4&&a+1==s||n>3&&a+1==s/2)&&(e[r+1]/s/100|0)==Y(10,t-2)-1||(a==s/2||a==0)&&(e[r+1]/s/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(i||n<4)&&a==9999||!i&&n>3&&a==4999):o=((i||n<4)&&a+1==s||!i&&n>3&&a+1==s/2)&&(e[r+1]/s/1e3|0)==Y(10,t-3)-1,o}b(Oe,"checkRoundingDigits");function Fe(e,t,n){for(var i,r=[0],s,o=0,a=e.length;o<a;){for(s=r.length;s--;)r[s]*=t;for(r[0]+=pt.indexOf(e.charAt(o++)),i=0;i<r.length;i++)r[i]>n-1&&(r[i+1]===void 0&&(r[i+1]=0),r[i+1]+=r[i]/n|0,r[i]%=n)}return r.reverse()}b(Fe,"convertBase");function on(e,t){var n,i,r;if(t.isZero())return t;i=t.d.length,i<32?(n=Math.ceil(i/3),r=(1/Ze(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=xe(e,1,t.times(r),new e(1));for(var s=n;s--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}b(on,"cosine");var Z=function(){function e(i,r,s){var o,a=0,u=i.length;for(i=i.slice();u--;)o=i[u]*r+a,i[u]=o%s|0,a=o/s|0;return a&&i.unshift(a),i}b(e,"multiplyInteger");function t(i,r,s,o){var a,u;if(s!=o)u=s>o?1:-1;else for(a=u=0;a<s;a++)if(i[a]!=r[a]){u=i[a]>r[a]?1:-1;break}return u}b(t,"compare");function n(i,r,s,o){for(var a=0;s--;)i[s]-=a,a=i[s]<r[s]?1:0,i[s]=a*o+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return b(n,"subtract"),function(i,r,s,o,a,u){var l,c,d,f,h,g,m,_,v,D,A,S,L,O,F,U,W,k,H,$,te=i.constructor,re=i.s==r.s?1:-1,T=i.d,R=r.d;if(!T||!T[0]||!R||!R[0])return new te(!i.s||!r.s||(T?R&&T[0]==R[0]:!R)?NaN:T&&T[0]==0||!R?re*0:re/0);for(u?(h=1,c=i.e-r.e):(u=he,h=C,c=ie(i.e/h)-ie(r.e/h)),H=R.length,W=T.length,v=new te(re),D=v.d=[],d=0;R[d]==(T[d]||0);d++);if(R[d]>(T[d]||0)&&c--,s==null?(O=s=te.precision,o=te.rounding):a?O=s+(i.e-r.e)+1:O=s,O<0)D.push(1),g=!0;else{if(O=O/h+2|0,d=0,H==1){for(f=0,R=R[0],O++;(d<W||f)&&O--;d++)F=f*u+(T[d]||0),D[d]=F/R|0,f=F%R|0;g=f||d<W}else{for(f=u/(R[0]+1)|0,f>1&&(R=e(R,f,u),T=e(T,f,u),H=R.length,W=T.length),U=H,A=T.slice(0,H),S=A.length;S<H;)A[S++]=0;$=R.slice(),$.unshift(0),k=R[0],R[1]>=u/2&&++k;do f=0,l=t(R,A,H,S),l<0?(L=A[0],H!=S&&(L=L*u+(A[1]||0)),f=L/k|0,f>1?(f>=u&&(f=u-1),m=e(R,f,u),_=m.length,S=A.length,l=t(m,A,_,S),l==1&&(f--,n(m,H<_?$:R,_,u))):(f==0&&(l=f=1),m=R.slice()),_=m.length,_<S&&m.unshift(0),n(A,m,S,u),l==-1&&(S=A.length,l=t(R,A,H,S),l<1&&(f++,n(A,H<S?$:R,S,u))),S=A.length):l===0&&(f++,A=[0]),D[d++]=f,l&&A[0]?A[S++]=T[U]||0:(A=[T[U]],S=1);while((U++<W||A[0]!==void 0)&&O--);g=A[0]!==void 0}D[0]||D.shift()}if(h==1)v.e=c,en=g;else{for(d=1,f=D[0];f>=10;f/=10)d++;v.e=d+c*h-1,I(v,a?s+v.e+1:s,o,g)}return v}}();function I(e,t,n,i){var r,s,o,a,u,l,c,d,f,h=e.constructor;e:if(t!=null){if(d=e.d,!d)return e;for(r=1,a=d[0];a>=10;a/=10)r++;if(s=t-r,s<0)s+=C,o=t,c=d[f=0],u=c/Y(10,r-o-1)%10|0;else if(f=Math.ceil((s+1)/C),a=d.length,f>=a)if(i){for(;a++<=f;)d.push(0);c=u=0,r=1,s%=C,o=s-C+1}else break e;else{for(c=a=d[f],r=1;a>=10;a/=10)r++;s%=C,o=s-C+r,u=o<0?0:c/Y(10,r-o-1)%10|0}if(i=i||t<0||d[f+1]!==void 0||(o<0?c:c%Y(10,r-o-1)),l=n<4?(u||i)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||i||n==6&&(s>0?o>0?c/Y(10,r-o):0:d[f-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,l?(t-=e.e+1,d[0]=Y(10,(C-t%C)%C),e.e=-t||0):d[0]=e.e=0,e;if(s==0?(d.length=f,a=1,f--):(d.length=f+1,a=Y(10,C-s),d[f]=o>0?(c/Y(10,r-o)%Y(10,o)|0)*a:0),l)for(;;)if(f==0){for(s=1,o=d[0];o>=10;o/=10)s++;for(o=d[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(e.e++,d[0]==he&&(d[0]=1));break}else{if(d[f]+=a,d[f]!=he)break;d[f--]=0,a=1}for(s=d.length;d[--s]===0;)d.pop()}return y&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}b(I,"finalise");function me(e,t,n){if(!e.isFinite())return At(e);var i,r=e.e,s=ee(e.d),o=s.length;return t?(n&&(i=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+we(i):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):r<0?(s="0."+we(-r-1)+s,n&&(i=n-o)>0&&(s+=we(i))):r>=o?(s+=we(r+1-o),n&&(i=n-r-1)>0&&(s=s+"."+we(i))):((i=r+1)<o&&(s=s.slice(0,i)+"."+s.slice(i)),n&&(i=n-o)>0&&(r+1===o&&(s+="."),s+=we(i))),s}b(me,"finiteToString");function He(e,t){var n=e[0];for(t*=C;n>=10;n/=10)t++;return t}b(He,"getBase10Exponent");function Ue(e,t,n){if(t>gi)throw y=!0,n&&(e.precision=n),Error(tn);return I(new e(We),t,1,!0)}b(Ue,"getLn10");function ce(e,t,n){if(t>vt)throw Error(tn);return I(new e(Ke),t,n,!0)}b(ce,"getPi");function It(e){var t=e.length-1,n=t*C+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}b(It,"getPrecision");function we(e){for(var t="";e--;)t+="0";return t}b(we,"getZeroString");function Dt(e,t,n,i){var r,s=new e(1),o=Math.ceil(i/C+4);for(y=!1;;){if(n%2&&(s=s.times(t),_t(s.d,o)&&(r=!0)),n=ie(n/2),n===0){n=s.d.length-1,r&&s.d[n]===0&&++s.d[n];break}t=t.times(t),_t(t.d,o)}return y=!0,s}b(Dt,"intPow");function wt(e){return e.d[e.d.length-1]&1}b(wt,"isOdd");function Mt(e,t,n){for(var i,r=new e(t[0]),s=0;++s<t.length;)if(i=new e(t[s]),i.s)r[n](i)&&(r=i);else{r=i;break}return r}b(Mt,"maxOrMin");function Xe(e,t){var n,i,r,s,o,a,u,l=0,c=0,d=0,f=e.constructor,h=f.rounding,g=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(y=!1,u=g):u=t,a=new f(.03125);e.e>-2;)e=e.times(a),d+=5;for(i=Math.log(Y(2,d))/Math.LN10*2+5|0,u+=i,n=s=o=new f(1),f.precision=u;;){if(s=I(s.times(e),u,1),n=n.times(++c),a=o.plus(Z(s,n,u,1)),ee(a.d).slice(0,u)===ee(o.d).slice(0,u)){for(r=d;r--;)o=I(o.times(o),u,1);if(t==null)if(l<3&&Oe(o.d,u-i,h,l))f.precision=u+=10,n=s=a=new f(1),c=0,l++;else return I(o,f.precision=g,h,y=!0);else return f.precision=g,o}o=a}}b(Xe,"naturalExponential");function be(e,t){var n,i,r,s,o,a,u,l,c,d,f,h=1,g=10,m=e,_=m.d,v=m.constructor,D=v.rounding,A=v.precision;if(m.s<0||!_||!_[0]||!m.e&&_[0]==1&&_.length==1)return new v(_&&!_[0]?-1/0:m.s!=1?NaN:_?0:m);if(t==null?(y=!1,c=A):c=t,v.precision=c+=g,n=ee(_),i=n.charAt(0),Math.abs(s=m.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)m=m.times(e),n=ee(m.d),i=n.charAt(0),h++;s=m.e,i>1?(m=new v("0."+n),s++):m=new v(i+"."+n.slice(1))}else return l=Ue(v,c+2,A).times(s+""),m=be(new v(i+"."+n.slice(1)),c-g).plus(l),v.precision=A,t==null?I(m,A,D,y=!0):m;for(d=m,u=o=m=Z(m.minus(1),m.plus(1),c,1),f=I(m.times(m),c,1),r=3;;){if(o=I(o.times(f),c,1),l=u.plus(Z(o,new v(r),c,1)),ee(l.d).slice(0,c)===ee(u.d).slice(0,c))if(u=u.times(2),s!==0&&(u=u.plus(Ue(v,c+2,A).times(s+""))),u=Z(u,new v(h),c,1),t==null)if(Oe(u.d,c-g,D,a))v.precision=c+=g,l=o=m=Z(d.minus(1),d.plus(1),c,1),f=I(m.times(m),c,1),r=a=1;else return I(u,v.precision=A,D,y=!0);else return v.precision=A,u;u=l,r+=2}}b(be,"naturalLogarithm");function At(e){return String(e.s*e.s/0)}b(At,"nonFiniteToString");function Qe(e,t){var n,i,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;i++);for(r=t.length;t.charCodeAt(r-1)===48;--r);if(t=t.slice(i,r),t){if(r-=i,e.e=n=n-i-1,e.d=[],i=(n+1)%C,n<0&&(i+=C),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=C;i<r;)e.d.push(+t.slice(i,i+=C));t=t.slice(i),i=C-t.length}else i-=r;for(;i--;)t+="0";e.d.push(+t),y&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}b(Qe,"parseDecimal");function ln(e,t){var n,i,r,s,o,a,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),sn.test(t))return Qe(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(hi.test(t))n=16,t=t.toLowerCase();else if(di.test(t))n=2;else if(mi.test(t))n=8;else throw Error(Ee+t);for(s=t.search(/p/i),s>0?(u=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),o=s>=0,i=e.constructor,o&&(t=t.replace(".",""),a=t.length,s=a-s,r=Dt(i,new i(n),s,s*2)),l=Fe(t,n,he),c=l.length-1,s=c;l[s]===0;--s)l.pop();return s<0?new i(e.s*0):(e.e=He(l,c),e.d=l,y=!1,o&&(e=Z(e,r,a*4)),u&&(e=e.times(Math.abs(u)<54?Y(2,u):$e.pow(2,u))),y=!0,e)}b(ln,"parseOther");function an(e,t){var n,i=t.d.length;if(i<3)return t.isZero()?t:xe(e,2,t,t);n=1.4*Math.sqrt(i),n=n>16?16:n|0,t=t.times(1/Ze(5,n)),t=xe(e,2,t,t);for(var r,s=new e(5),o=new e(16),a=new e(20);n--;)r=t.times(t),t=t.times(s.plus(r.times(o.times(r).minus(a))));return t}b(an,"sine");function xe(e,t,n,i,r){var s,o,a,u,l=e.precision,c=Math.ceil(l/C);for(y=!1,u=n.times(n),a=new e(i);;){if(o=Z(a.times(u),new e(t++*t++),l,1),a=r?i.plus(o):i.minus(o),i=Z(o.times(u),new e(t++*t++),l,1),o=a.plus(i),o.d[c]!==void 0){for(s=c;o.d[s]===a.d[s]&&s--;);if(s==-1)break}s=a,a=i,i=o,o=s}return y=!0,o.d.length=c+1,o}b(xe,"taylorSeries");function Ze(e,t){for(var n=e;--t;)n*=e;return n}b(Ze,"tinyPow");function xt(e,t){var n,i=t.s<0,r=ce(e,e.precision,1),s=r.times(.5);if(t=t.abs(),t.lte(s))return _e=i?4:1,t;if(n=t.divToInt(r),n.isZero())_e=i?3:2;else{if(t=t.minus(n.times(r)),t.lte(s))return _e=wt(n)?i?2:3:i?4:1,t;_e=wt(n)?i?1:4:i?3:2}return t.minus(r).abs()}b(xt,"toLessThanHalfPi");function rt(e,t,n,i){var r,s,o,a,u,l,c,d,f,h=e.constructor,g=n!==void 0;if(g?(se(n,1,ke),i===void 0?i=h.rounding:se(i,0,8)):(n=h.precision,i=h.rounding),!e.isFinite())c=At(e);else{for(c=me(e),o=c.indexOf("."),g?(r=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):r=t,o>=0&&(c=c.replace(".",""),f=new h(1),f.e=c.length-o,f.d=Fe(me(f),10,r),f.e=f.d.length),d=Fe(c,10,r),s=u=d.length;d[--u]==0;)d.pop();if(!d[0])c=g?"0p+0":"0";else{if(o<0?s--:(e=new h(e),e.d=d,e.e=s,e=Z(e,f,n,i,0,r),d=e.d,s=e.e,l=en),o=d[n],a=r/2,l=l||d[n+1]!==void 0,l=i<4?(o!==void 0||l)&&(i===0||i===(e.s<0?3:2)):o>a||o===a&&(i===4||l||i===6&&d[n-1]&1||i===(e.s<0?8:7)),d.length=n,l)for(;++d[--n]>r-1;)d[n]=0,n||(++s,d.unshift(1));for(u=d.length;!d[u-1];--u);for(o=0,c="";o<u;o++)c+=pt.charAt(d[o]);if(g){if(u>1)if(t==16||t==8){for(o=t==16?4:3,--u;u%o;u++)c+="0";for(d=Fe(c,r,t),u=d.length;!d[u-1];--u);for(o=1,c="1.";o<u;o++)c+=pt.charAt(d[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)c="0"+c;c="0."+c}else if(++s>u)for(s-=u;s--;)c+="0";else s<u&&(c=c.slice(0,s)+"."+c.slice(s))}c=(t==16?"0x":t==2?"0b":t==8?"0o":"")+c}return e.s<0?"-"+c:c}b(rt,"toStringBinary");function _t(e,t){if(e.length>t)return e.length=t,!0}b(_t,"truncate");function un(e){return new this(e).abs()}b(un,"abs");function cn(e){return new this(e).acos()}b(cn,"acos");function fn(e){return new this(e).acosh()}b(fn,"acosh");function dn(e,t){return new this(e).plus(t)}b(dn,"add");function hn(e){return new this(e).asin()}b(hn,"asin");function mn(e){return new this(e).asinh()}b(mn,"asinh");function pn(e){return new this(e).atan()}b(pn,"atan");function gn(e){return new this(e).atanh()}b(gn,"atanh");function vn(e,t){e=new this(e),t=new this(t);var n,i=this.precision,r=this.rounding,s=i+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=ce(this,s,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?ce(this,i,r):new this(0),n.s=e.s):!e.d||t.isZero()?(n=ce(this,s,1).times(.5),n.s=e.s):t.s<0?(this.precision=s,this.rounding=1,n=this.atan(Z(e,t,s,1)),t=ce(this,s,1),this.precision=i,this.rounding=r,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(Z(e,t,s,1)),n}b(vn,"atan2");function wn(e){return new this(e).cbrt()}b(wn,"cbrt");function _n(e){return I(e=new this(e),e.e+1,2)}b(_n,"ceil");function bn(e,t,n){return new this(e).clamp(t,n)}b(bn,"clamp");function Nn(e){if(!e||typeof e!="object")throw Error(it+"Object expected");var t,n,i,r=e.defaults===!0,s=["precision",1,ke,"rounding",0,8,"toExpNeg",-Ce,0,"toExpPos",0,Ce,"maxE",0,Ce,"minE",-Ce,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(n=s[t],r&&(this[n]=gt[n]),(i=e[n])!==void 0)if(ie(i)===i&&i>=s[t+1]&&i<=s[t+2])this[n]=i;else throw Error(Ee+n+": "+i);if(n="crypto",r&&(this[n]=gt[n]),(i=e[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(nn);else this[n]=!1;else throw Error(Ee+n+": "+i);return this}b(Nn,"config");function Sn(e){return new this(e).cos()}b(Sn,"cos");function En(e){return new this(e).cosh()}b(En,"cosh");function Pt(e){var t,n,i;function r(s){var o,a,u,l=this;if(!(l instanceof r))return new r(s);if(l.constructor=r,bt(s)){l.s=s.s,y?!s.d||s.e>r.maxE?(l.e=NaN,l.d=null):s.e<r.minE?(l.e=0,l.d=[0]):(l.e=s.e,l.d=s.d.slice()):(l.e=s.e,l.d=s.d?s.d.slice():s.d);return}if(u=typeof s,u==="number"){if(s===0){l.s=1/s<0?-1:1,l.e=0,l.d=[0];return}if(s<0?(s=-s,l.s=-1):l.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;y?o>r.maxE?(l.e=NaN,l.d=null):o<r.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[s]):(l.e=o,l.d=[s]);return}else if(s*0!==0){s||(l.s=NaN),l.e=NaN,l.d=null;return}return Qe(l,s.toString())}else if(u!=="string")throw Error(Ee+s);return(a=s.charCodeAt(0))===45?(s=s.slice(1),l.s=-1):(a===43&&(s=s.slice(1)),l.s=1),sn.test(s)?Qe(l,s):ln(l,s)}if(b(r,"Decimal"),r.prototype=p,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=Nn,r.clone=Pt,r.isDecimal=bt,r.abs=un,r.acos=cn,r.acosh=fn,r.add=dn,r.asin=hn,r.asinh=mn,r.atan=pn,r.atanh=gn,r.atan2=vn,r.cbrt=wn,r.ceil=_n,r.clamp=bn,r.cos=Sn,r.cosh=En,r.div=kn,r.exp=In,r.floor=Dn,r.hypot=Mn,r.ln=An,r.log=xn,r.log10=Cn,r.log2=Pn,r.max=Tn,r.min=On,r.mod=yn,r.mul=Bn,r.pow=Fn,r.random=Ln,r.round=qn,r.sign=Un,r.sin=Rn,r.sinh=Vn,r.sqrt=jn,r.sub=Hn,r.sum=Zn,r.tan=$n,r.tanh=zn,r.trunc=Jn,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return r.config(e),r}b(Pt,"clone");function kn(e,t){return new this(e).div(t)}b(kn,"div");function In(e){return new this(e).exp()}b(In,"exp");function Dn(e){return I(e=new this(e),e.e+1,3)}b(Dn,"floor");function Mn(){var e,t,n=new this(0);for(y=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return y=!0,new this(1/0);n=t}return y=!0,n.sqrt()}b(Mn,"hypot");function bt(e){return e instanceof $e||e&&e.toStringTag===rn||!1}b(bt,"isDecimalInstance");function An(e){return new this(e).ln()}b(An,"ln");function xn(e,t){return new this(e).log(t)}b(xn,"log");function Pn(e){return new this(e).log(2)}b(Pn,"log2");function Cn(e){return new this(e).log(10)}b(Cn,"log10");function Tn(){return Mt(this,arguments,"lt")}b(Tn,"max");function On(){return Mt(this,arguments,"gt")}b(On,"min");function yn(e,t){return new this(e).mod(t)}b(yn,"mod");function Bn(e,t){return new this(e).mul(t)}b(Bn,"mul");function Fn(e,t){return new this(e).pow(t)}b(Fn,"pow");function Ln(e){var t,n,i,r,s=0,o=new this(1),a=[];if(e===void 0?e=this.precision:se(e,1,ke),i=Math.ceil(e/C),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));s<i;)r=t[s],r>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=r%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);s<i;)r=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((t[s+3]&127)<<24),r>=214e7?crypto.randomBytes(4).copy(t,s):(a.push(r%1e7),s+=4);s=i/4}else throw Error(nn);else for(;s<i;)a[s++]=Math.random()*1e7|0;for(i=a[--s],e%=C,i&&e&&(r=Y(10,C-e),a[s]=(i/r|0)*r);a[s]===0;s--)a.pop();if(s<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=C)a.shift();for(i=1,r=a[0];r>=10;r/=10)i++;i<C&&(n-=C-i)}return o.e=n,o.d=a,o}b(Ln,"random");function qn(e){return I(e=new this(e),e.e+1,this.rounding)}b(qn,"round");function Un(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}b(Un,"sign");function Rn(e){return new this(e).sin()}b(Rn,"sin");function Vn(e){return new this(e).sinh()}b(Vn,"sinh");function jn(e){return new this(e).sqrt()}b(jn,"sqrt");function Hn(e,t){return new this(e).sub(t)}b(Hn,"sub");function Zn(){var e=0,t=arguments,n=new this(t[e]);for(y=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return y=!0,I(n,this.precision,this.rounding)}b(Zn,"sum");function $n(e){return new this(e).tan()}b($n,"tan");function zn(e){return new this(e).tanh()}b(zn,"tanh");function Jn(e){return I(e=new this(e),e.e+1,1)}b(Jn,"trunc");p[Symbol.for("nodejs.util.inspect.custom")]=p.toString;p[Symbol.toStringTag]="Decimal";var $e=p.constructor=Pt(gt);We=new $e(We);Ke=new $e(Ke);var vi=$e;(function(e){Object.defineProperty(e,"__esModule",{value:!0});const{Decimal:t,objectEnumValues:n,makeStrictEnum:i}=ui,r={};e.Prisma=r,r.prismaVersion={client:"4.9.0",engine:"6b0aef69b7cdfc787f822ecd7cdc76d5f1991584"},r.PrismaClientKnownRequestError=()=>{throw new Error(`PrismaClientKnownRequestError is unable to be run in the browser.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},r.PrismaClientUnknownRequestError=()=>{throw new Error(`PrismaClientUnknownRequestError is unable to be run in the browser.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},r.PrismaClientRustPanicError=()=>{throw new Error(`PrismaClientRustPanicError is unable to be run in the browser.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},r.PrismaClientInitializationError=()=>{throw new Error(`PrismaClientInitializationError is unable to be run in the browser.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},r.PrismaClientValidationError=()=>{throw new Error(`PrismaClientValidationError is unable to be run in the browser.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},r.NotFoundError=()=>{throw new Error(`NotFoundError is unable to be run in the browser.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},r.Decimal=t,r.sql=()=>{throw new Error(`sqltag is unable to be run in the browser.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},r.empty=()=>{throw new Error(`empty is unable to be run in the browser.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},r.join=()=>{throw new Error(`join is unable to be run in the browser.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},r.raw=()=>{throw new Error(`raw is unable to be run in the browser.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},r.validator=()=>a=>a,r.DbNull=n.instances.DbNull,r.JsonNull=n.instances.JsonNull,r.AnyNull=n.instances.AnyNull,r.NullTypes={DbNull:n.classes.DbNull,JsonNull:n.classes.JsonNull,AnyNull:n.classes.AnyNull};function s(a){return a}e.Prisma.TransactionIsolationLevel=i({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),e.Prisma.SessionScalarFieldEnum={id:"id",createdAt:"createdAt",updatedAt:"updatedAt",name:"name",userId:"userId",main:"main",cube:"cube"},e.Prisma.SolveScalarFieldEnum={id:"id",createdAt:"createdAt",updatedAt:"updatedAt",scramble:"scramble",time:"time",description:"description",sessionId:"sessionId",status:"status"},e.Prisma.TwoLookSolveScalarFieldEnum={id:"id",cross:"cross",firstLayer:"firstLayer",edge1:"edge1",edge2:"edge2",edge3:"edge3",edge4:"edge4",oll1:"oll1",oll2:"oll2",pll1:"pll1",pll2:"pll2",createdAt:"createdAt",updatedAt:"updatedAt",solveId:"solveId"},e.Prisma.TwoLookSolveDeletedScalarFieldEnum={id:"id",cross:"cross",firstLayer:"firstLayer",edge1:"edge1",edge2:"edge2",edge3:"edge3",edge4:"edge4",oll1:"oll1",oll2:"oll2",pll1:"pll1",pll2:"pll2",createdAt:"createdAt",updatedAt:"updatedAt",twoLookSolveId:"twoLookSolveId",deleted:"deleted",solveId:"solveId"},e.Prisma.CfopSolveScalarFieldEnum={id:"id",cross:"cross",f2l1:"f2l1",f2l2:"f2l2",f2l3:"f2l3",f2l4:"f2l4",oll:"oll",pll:"pll",createdAt:"createdAt",updatedAt:"updatedAt",solveId:"solveId"},e.Prisma.CfopSolveDeletedScalarFieldEnum={id:"id",cross:"cross",f2l1:"f2l1",f2l2:"f2l2",f2l3:"f2l3",f2l4:"f2l4",oll:"oll",pll:"pll",createdAt:"createdAt",updatedAt:"updatedAt",solveId:"solveId",deleted:"deleted",cfopSolveId:"cfopSolveId"},e.Prisma.UserScalarFieldEnum={id:"id",createdAt:"createdAt",updatedAt:"updatedAt",email:"email",firstname:"firstname",lastname:"lastname",birthdate:"birthdate",gender:"gender",phone:"phone",settingsId:"settingsId",authId:"authId",role:"role"},e.Prisma.SettingsScalarFieldEnum={id:"id",createdAt:"createdAt",updatedAt:"updatedAt",userId:"userId",zoom:"zoom",font:"font",backgroundImageOpacity:"backgroundImageOpacity",timerSize:"timerSize",scrambleSize:"scrambleSize",backgroundImage:"backgroundImage",freezeTime:"freezeTime",useMouseTimer:"useMouseTimer",useWcaInspection:"useWcaInspection",voiceAlert:"voiceAlert",voiceVolume:"voiceVolume",enteringTimes:"enteringTimes",unitWhenEnteringInteger:"unitWhenEnteringInteger",multiPhase:"multiPhase",timerUpdate:"timerUpdate",limitHeight:"limitHeight",monospaced:"monospaced",alignArea:"alignArea",defaultScrambleSize:"defaultScrambleSize"},e.Prisma.SessionDeletedScalarFieldEnum={id:"id",createdAt:"createdAt",updatedAt:"updatedAt",name:"name",userId:"userId",main:"main",deleted:"deleted",cube:"cube",sessionId:"sessionId"},e.Prisma.SolveDeletedScalarFieldEnum={id:"id",solveId:"solveId",createdAt:"createdAt",updatedAt:"updatedAt",scramble:"scramble",time:"time",description:"description",sessionId:"sessionId",deleted:"deleted",status:"status"},e.Prisma.SortOrder={asc:"asc",desc:"desc"},e.Prisma.QueryMode={default:"default",insensitive:"insensitive"},e.Prisma.NullsOrder={first:"first",last:"last"},e.CubeType={N2:"N2",N3:"N3",N4:"N4",N5:"N5",N6:"N6",N7:"N7",Megaminx:"Megaminx",Pyraminx:"Pyraminx",Clock:"Clock",Sq1:"Sq1",Bld3:"Bld3",Bld4:"Bld4",Bld5:"Bld5",Skewb:"Skewb"},e.SolveStatus={Ok:"Ok",Dnf:"Dnf",Plus2:"Plus2"},e.Gender={Male:"Male",Female:"Female"},e.UserRole={User:"User",Admin:"Admin"},e.Font={Mono:"Mono",Montserat:"Montserat",Arial:"Arial",Inter:"Inter"},e.UseWcaInspection={Always:"Always",ExceptBLD:"ExceptBLD",Never:"Never"},e.VoiceAlert={None:"None",Male:"Male",Female:"Female",Aliya:"Aliya",Mygmardorj:"Mygmardorj"},e.EnteringTimes={Timer:"Timer",Typing:"Typing",Stackmat:"Stackmat",Bluetooth:"Bluetooth"},e.UnitWhenEnteringInteger={Full:"Full"},e.TimerUpdate={Default:"Default",Update:"Update",Inspection:"Inspection",Seconds:"Seconds",Point:"Point",None:"None"},e.AlignArea={Center:"Center",Left:"Left",Right:"Right"},e.Prisma.ModelName={Session:"Session",Solve:"Solve",TwoLookSolve:"TwoLookSolve",TwoLookSolveDeleted:"TwoLookSolveDeleted",CfopSolve:"CfopSolve",CfopSolveDeleted:"CfopSolveDeleted",User:"User",Settings:"Settings",SessionDeleted:"SessionDeleted",SolveDeleted:"SolveDeleted"};class o{constructor(){throw new Error(`PrismaClient is unable to be run in the browser.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)}}e.PrismaClient=o,Object.assign(e,r)})(Kt);const wi=Kt;var Ct=wi;const Xi={N2:"222",N3:"333",N4:"444",N5:"555",N6:"666",N7:"777",Megaminx:"minx",Pyraminx:"pyram",Clock:"clock",Sq1:"sq1",Bld3:"333bf",Bld4:"444bf",Bld5:"555bf",Skewb:"skewb"},Qi={N2:"text-2xl md:text-5xl",N3:"text-2xl md:text-5xl",N4:"text-base md:text-5xl",N5:"text-sm md:text-5xl",N6:"text-xs md:text-2xl lg:text-3xl",N7:"text-xs md:text-2xl lg:text-3xl",Bld3:"text-2xl md:text-5xl",Bld4:"text-base md:text-5xl",Bld5:"text-sm md:text-5xl",Sq1:"text-2xl md:text-5xl",Pyraminx:"text-2xl md:text-5xl",Megaminx:"text-xs md:text-lg lg:text-2xl 2xl:text-3xl text-justify font-mono",Clock:"text-2xl md:text-5xl",Skewb:"text-2xl md:text-5xl"},Yi=["N2","N3","N4","N5","N6","N7","Megaminx","Pyraminx","Clock","Sq1","Bld3","Bld4","Bld5","Skewb"],er={N2:"2x2",N3:"3x3",N4:"4x4",N5:"5x5",N6:"6x6",N7:"7x7",Bld3:"3Bld",Bld4:"4Bld",Bld5:"5Bld",Sq1:"Sq1",Pyraminx:"Pyra",Megaminx:"Mega",Clock:"Clock",Skewb:"skewb"},tr={Digit1:"Sq1",Digit2:"N2",Digit3:"N3",Digit4:"N4",Digit5:"N5",Digit6:"N6",Digit7:"N7",KeyM:"Megaminx",KeyC:"Clock",KeyP:"Pyraminx",KeyB:"Bld3",KeyS:"Skewb"};Ct.Prisma.validator()({include:{solves:!0}});Ct.Prisma.validator()({include:{_count:{select:{solves:!0}}}});Ct.Prisma.validator()({include:{twoLookSolve:!0,cfopSolve:!0}});const _i=""+new URL("../assets/ads.ce7106f4.webp",import.meta.url).href;function bi(e){let t;return{c(){t=J("Устгах")},l(n){t=G(n,"Устгах")},m(n,i){z(n,t,i)},d(n){n&&E(t)}}}function Ni(e){let t;return{c(){t=J("Үүсгэх")},l(n){t=G(n,"Үүсгэх")},m(n,i){z(n,t,i)},d(n){n&&E(t)}}}function Si(e){let t,n,i,r,s,o,a,u,l,c="Болих",d,f,h,g,m,_;const v=e[4].default,D=Wn(v,e,e[3],null);function A(O,F){if(O[2]==="create")return Ni;if(O[2]==="delete")return bi}let S=A(e),L=S&&S(e);return{c(){t=x("div"),n=x("div"),i=x("img"),s=V(),o=x("div"),D&&D.c(),a=V(),u=x("div"),l=x("button"),l.textContent=c,d=V(),f=x("button"),L&&L.c(),this.h()},l(O){t=P(O,"DIV",{class:!0});var F=q(t);n=P(F,"DIV",{class:!0});var U=q(n);i=P(U,"IMG",{alt:!0,src:!0,class:!0}),s=j(U),o=P(U,"DIV",{class:!0});var W=q(o);D&&D.l(W),W.forEach(E),a=j(U),u=P(U,"DIV",{class:!0});var k=q(u);l=P(k,"BUTTON",{class:!0,["data-svelte-h"]:!0}),ae(l)!=="svelte-4lx0xe"&&(l.textContent=c),d=j(k),f=P(k,"BUTTON",{class:!0});var H=q(f);L&&L.l(H),H.forEach(E),k.forEach(E),U.forEach(E),F.forEach(E),this.h()},h(){M(i,"alt","ads"),Kn(i.src,r=_i)||M(i,"src",r),M(i,"class","mx-auto aspect-square w-[250px] md:w-[500px]"),M(o,"class","my-4"),M(l,"class","rounded-xl bg-primary py-2 px-4 text-xl text-white"),M(f,"class","rounded-xl bg-primary py-2 px-4 text-xl text-white"),M(u,"class","flex items-center justify-center gap-12"),M(n,"class","w-4/5 rounded-xl bg-background p-4 md:w-auto md:p-12 md:pb-4"),M(t,"class",h=`absolute top-0 left-0 flex h-screen w-full items-center justify-center ${e[0]?"block":"hidden"} z-50 bg-black bg-opacity-70`)},m(O,F){z(O,t,F),w(t,n),w(n,i),w(n,s),w(n,o),D&&D.m(o,null),w(n,a),w(n,u),w(u,l),w(u,d),w(u,f),L&&L.m(f,null),g=!0,m||(_=[ue(l,"click",e[5]),ue(f,"click",function(){Jt(e[1])&&e[1].apply(this,arguments)})],m=!0)},p(O,[F]){e=O,D&&D.p&&(!g||F&8)&&Xn(D,v,e,e[3],g?Yn(v,e[3],F,null):Qn(e[3]),null),S!==(S=A(e))&&(L&&L.d(1),L=S&&S(e),L&&(L.c(),L.m(f,null))),(!g||F&1&&h!==(h=`absolute top-0 left-0 flex h-screen w-full items-center justify-center ${e[0]?"block":"hidden"} z-50 bg-black bg-opacity-70`))&&M(t,"class",h)},i(O){g||(ne(D,O),g=!0)},o(O){oe(D,O),g=!1},d(O){O&&E(t),D&&D.d(O),L&&L.d(),m=!1,et(_)}}}function Ei(e,t,n){let{$$slots:i={},$$scope:r}=t,{okFunction:s}=t,{isOpen:o=!1}=t,{mode:a="delete"}=t;async function u(c){o===!0&&(c.code==="Enter"?await s():c.code==="Escape"&&n(0,o=!1))}ei(()=>{window.addEventListener("keydown",u)}),ti(()=>{window.removeEventListener("keydown",u)});const l=()=>n(0,o=!1);return e.$$set=c=>{"okFunction"in c&&n(1,s=c.okFunction),"isOpen"in c&&n(0,o=c.isOpen),"mode"in c&&n(2,a=c.mode),"$$scope"in c&&n(3,r=c.$$scope)},[o,s,a,r,i,l]}class ki extends Ve{constructor(t){super(),je(this,t,Ei,Si,Re,{okFunction:1,isOpen:0,mode:2})}}const Ii={none:"asc",asc:"desc",desc:"none"},Gn=Wt("none"),Di=()=>{Gn.update(e=>Ii[e])};function Ne(e){const t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4),i=Math.floor(e%36e5%6e4/1e3);let s=`${Math.floor(e%36e5%6e4%1e3).toString().padStart(3,"0")}`;return s=s.slice(0,-1),t>0?s=`${t}:${lt(n)}:${lt(i)}.${s}`:n>0?s=`${n}:${lt(i)}.${s}`:s=`${i}.${s}`,s}function ye(e){switch(e.status){case"Ok":return Ne(e.time);case"Plus2":return"+"+Ne(e.time+2e3);case"Dnf":return"DNF"}}function lt(e){return e.toString().padStart(2,"0")}function Mi(e){return e.slice().map(i=>({...i,time:st(i)})).sort((i,r)=>i.time-r.time).slice(0,1)[0]}function nr(e){return typeof e.time>"u"?Ne(0):e.time!==Number.MAX_SAFE_INTEGER?Ne(e.time):"DNF"}function ir(e){if(e.length===0)return Ne(0);const t=Math.max(...e.slice().filter(n=>n.status!=="Dnf").map(n=>st(n)));return Ne(t)}function st(e){switch(e.status){case"Ok":return e.time;case"Plus2":return e.time+2e3;case"Dnf":return Number.MAX_SAFE_INTEGER}}function Le(e,t){if(e.length<t)return 0;const n=e.slice(-1*t),i=n.filter(u=>u.status==="Dnf");if(i.length>=Math.floor(t/25)+2&&t>=25||i.length>=2&&t>=5)return Number.MAX_SAFE_INTEGER;const o=n.slice().map(u=>({...u,time:st(u)})).slice().sort((u,l)=>u.time-l.time).slice(1,-1);return o.reduce((u,l)=>u+l.time,0)/o.length}function Je(e,t){const n=Le(e,t);return n===Number.MAX_SAFE_INTEGER?"DNF":n>=0?Ne(n):"DNF"}function Nt(e,t){if(e.length<t)return[];let n,i=[];for(let r=0;r<e.length-t+1;r++){const s=e.slice(r,t+r),o=Le(s,t);(!n||o<n&&o>=0)&&(n=o,i=s)}return i}function Ye(e){if(e.length===0)return Ne(0);const t=e.slice().filter(i=>i.status!=="Dnf").map(i=>({...i,time:st(i)}));if(t.length===0)return"DNF";const n=t.reduce((i,r)=>i+r.time,0);return Ne(n/t.length)}function rr(e){return/^\d+$/.test(e)?xi(parseInt(e)):Ai(e)}function Ai(e){if(!/^((\d{1,2}:)?\d{1,2}:)?\d{1,2}\.\d{1,2}$/gm.exec(e))return;const n=e.split(":").reverse();if(n.length>3)return;const i=n.shift();if(!i)return;const[r,s]=i.split(".");let o=parseInt(r)*1e3+parseInt(s)*10;if(n.length===1){const[a]=n;o+=parseInt(a)*60*1e3}else if(n.length===2){const[a,u]=n;o+=parseInt(a)*60*1e3,o+=parseInt(u)*60*60*1e3}return o}function xi(e){const t=Math.floor(e/1e6),n=Math.floor(e%1e6/1e4),i=Math.floor(e%1e4/100),r=e%100*10;return t*36e5+n*6e4+i*1e3+r}function sr(e,t){return Le(e,t)===Le(Nt(e,t),t)&&Le(e,t)>0?"text-green-400":""}const Tt=Wt();function or(){Tt.update(e=>({...e,open:!0}))}kt.subscribe(e=>{const t=Mi(e);Tt.set({...t,open:!1})});function Ft(e,t,n){const i=e.slice();return i[1]=t[n],i[3]=n,i}function Lt(e){let t,n,i=e[3]+1+"",r,s,o,a,u=ye(e[1])+"",l,c,d,f=e[1].scramble+"",h,g;return{c(){t=x("div"),n=x("span"),r=J(i),s=J("."),o=V(),a=x("span"),l=J(u),c=V(),d=x("span"),h=J(f),g=V(),this.h()},l(m){t=P(m,"DIV",{class:!0});var _=q(t);n=P(_,"SPAN",{});var v=q(n);r=G(v,i),s=G(v,"."),v.forEach(E),o=j(_),a=P(_,"SPAN",{});var D=q(a);l=G(D,u),D.forEach(E),c=j(_),d=P(_,"SPAN",{class:!0});var A=q(d);h=G(A,f),A.forEach(E),g=j(_),_.forEach(E),this.h()},h(){M(d,"class","overflow-hidden whitespace-nowrap text-ellipsis"),M(t,"class","flex gap-2 py-2 md:gap-4")},m(m,_){z(m,t,_),w(t,n),w(n,r),w(n,s),w(t,o),w(t,a),w(a,l),w(t,c),w(t,d),w(d,h),w(t,g)},p(m,_){_&1&&u!==(u=ye(m[1])+"")&&fe(l,u),_&1&&f!==(f=m[1].scramble+"")&&fe(h,f)},d(m){m&&E(t)}}}function Pi(e){let t,n="Эвлүүлэлтийн жагсаалт",i,r,s=Te(e[0]),o=[];for(let a=0;a<s.length;a+=1)o[a]=Lt(Ft(e,s,a));return{c(){t=x("h3"),t.textContent=n,i=V(),r=x("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){t=P(a,"H3",{class:!0,["data-svelte-h"]:!0}),ae(t)!=="svelte-yh6j77"&&(t.textContent=n),i=j(a),r=P(a,"DIV",{class:!0});var u=q(r);for(let l=0;l<o.length;l+=1)o[l].l(u);u.forEach(E),this.h()},h(){M(t,"class","mt-8 text-3xl text-center"),M(r,"class","overflow-y-auto pr-4 mx-4 mt-2 max-h-40 text-2xl md:mx-8 md:max-h-72 lg:mx-12")},m(a,u){z(a,t,u),z(a,i,u),z(a,r,u);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(r,null)},p(a,[u]){if(u&1){s=Te(a[0]);let l;for(l=0;l<s.length;l+=1){const c=Ft(a,s,l);o[l]?o[l].p(c,u):(o[l]=Lt(c),o[l].c(),o[l].m(r,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=s.length}},i:qe,o:qe,d(a){a&&(E(t),E(i),E(r)),St(o,a)}}}function Ci(e,t,n){let{solves:i=[]}=t;return e.$$set=r=>{"solves"in r&&n(0,i=r.solves)},[i]}class Ti extends Ve{constructor(t){super(),je(this,t,Ci,Pi,Re,{solves:0})}}function qt(e){let t,n=Ut(e[1].createdAt)+"",i,r;return{c(){t=J("("),i=J(n),r=J(")")},l(s){t=G(s,"("),i=G(s,n),r=G(s,")")},m(s,o){z(s,t,o),z(s,i,o),z(s,r,o)},p(s,o){o&2&&n!==(n=Ut(s[1].createdAt)+"")&&fe(i,n)},d(s){s&&(E(t),E(i),E(r))}}}function Oi(e){let t,n,i,r,s=ye(e[1])+"",o,a,u,l,c,d="+2",f,h,g="DNF",m,_,v="✕",D,A,S=e[2]&&qt(e);return{c(){t=x("div"),n=x("button"),i=J(e[0]),r=J(". "),o=J(s),a=V(),S&&S.c(),u=V(),l=x("div"),c=x("button"),c.textContent=d,f=V(),h=x("button"),h.textContent=g,m=V(),_=x("button"),_.textContent=v,this.h()},l(L){t=P(L,"DIV",{class:!0});var O=q(t);n=P(O,"BUTTON",{});var F=q(n);i=G(F,e[0]),r=G(F,". "),o=G(F,s),a=j(F),S&&S.l(F),F.forEach(E),u=j(O),l=P(O,"DIV",{class:!0});var U=q(l);c=P(U,"BUTTON",{class:!0,["data-svelte-h"]:!0}),ae(c)!=="svelte-1d8xf9c"&&(c.textContent=d),f=j(U),h=P(U,"BUTTON",{class:!0,["data-svelte-h"]:!0}),ae(h)!=="svelte-1wz9rif"&&(h.textContent=g),m=j(U),_=P(U,"BUTTON",{class:!0,["data-svelte-h"]:!0}),ae(_)!=="svelte-1h4xr3v"&&(_.textContent=v),U.forEach(E),O.forEach(E),this.h()},h(){M(c,"class","text-red-500"),M(h,"class","text-white"),M(_,"class","text-red-500"),M(l,"class","flex gap-1"),M(t,"class","flex justify-between p-2 text-white")},m(L,O){z(L,t,O),w(t,n),w(n,i),w(n,r),w(n,o),w(n,a),S&&S.m(n,null),w(t,u),w(t,l),w(l,c),w(l,f),w(l,h),w(l,m),w(l,_),D||(A=[ue(n,"click",function(){Jt(e[4])&&e[4].apply(this,arguments)}),ue(c,"click",e[6]),ue(h,"click",e[7]),ue(_,"click",e[8])],D=!0)},p(L,[O]){e=L,O&1&&fe(i,e[0]),O&2&&s!==(s=ye(e[1])+"")&&fe(o,s),e[2]?S?S.p(e,O):(S=qt(e),S.c(),S.m(n,null)):S&&(S.d(1),S=null)},i:qe,o:qe,d(L){L&&E(t),S&&S.d(),D=!1,et(A)}}}function Ut(e){const t=new Date(e);return`${t.getFullYear()}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}.${t.getSeconds().toString().padStart(2,"0")}`}function yi(e,t,n){let{order:i}=t,{solve:r}=t,{showDate:s=!1}=t,{openDeleteModal:o}=t,{openShowModal:a}=t;async function u(f){let h;if(f!=="Ok"&&r.status!=="Ok"&&f!==r.status)return;r.status===f?h="Ok":h=f;const m=await(await fetch(`/api/solve/${r.id}`,{method:"PUT",body:JSON.stringify({status:h})})).json();m.success===!0&&Gt(m.solve)}const l=f=>{u("Plus2"),f.currentTarget.blur()},c=f=>{u("Dnf"),f.currentTarget.blur()},d=()=>{o()};return e.$$set=f=>{"order"in f&&n(0,i=f.order),"solve"in f&&n(1,r=f.solve),"showDate"in f&&n(2,s=f.showDate),"openDeleteModal"in f&&n(3,o=f.openDeleteModal),"openShowModal"in f&&n(4,a=f.openShowModal)},[i,r,s,o,a,u,l,c,d]}class Bi extends Ve{constructor(t){super(),je(this,t,yi,Oi,Re,{order:0,solve:1,showDate:2,openDeleteModal:3,openShowModal:4})}}function Rt(e,t,n){const i=e.slice();return i[6]=t[n],i}function Vt(e){let t,n,i,r,s=e[6]+"",o,a,u,l=Je(e[2],e[6])+"",c,d,f,h=Je(Nt(e[2],e[6]),e[6])+"",g,m;return{c(){t=x("div"),n=x("div"),i=x("div"),r=J("Ao"),o=J(s),a=V(),u=x("div"),c=J(l),d=V(),f=x("div"),g=J(h),m=V(),this.h()},l(_){t=P(_,"DIV",{class:!0});var v=q(t);n=P(v,"DIV",{class:!0});var D=q(n);i=P(D,"DIV",{class:!0});var A=q(i);r=G(A,"Ao"),o=G(A,s),A.forEach(E),a=j(D),u=P(D,"DIV",{class:!0});var S=q(u);c=G(S,l),S.forEach(E),d=j(D),f=P(D,"DIV",{class:!0});var L=q(f);g=G(L,h),L.forEach(E),D.forEach(E),m=j(v),v.forEach(E),this.h()},h(){M(i,"class","p-4 w-2/5 rounded-xl md:w-1/5 bg-primary"),M(u,"class","w-2/5 text-center"),M(f,"class","w-2/5 text-center text-green-400"),M(n,"class","flex items-center w-full text-lg text-center text-white rounded-xl bg-secondary"),M(t,"class","mx-auto mt-2 md:mt-6")},m(_,v){z(_,t,v),w(t,n),w(n,i),w(i,r),w(i,o),w(n,a),w(n,u),w(u,c),w(n,d),w(n,f),w(f,g),w(t,m)},p(_,v){v&4&&s!==(s=_[6]+"")&&fe(o,s),v&4&&l!==(l=Je(_[2],_[6])+"")&&fe(c,l),v&4&&h!==(h=Je(Nt(_[2],_[6]),_[6])+"")&&fe(g,h)},d(_){_&&E(t)}}}function jt(e){let t,n,i,r,s="Close",o,a,u;return t=new Ti({props:{solves:e[2]}}),{c(){Ie(t.$$.fragment),n=V(),i=x("div"),r=x("button"),r.textContent=s,this.h()},l(l){De(t.$$.fragment,l),n=j(l),i=P(l,"DIV",{class:!0});var c=q(i);r=P(c,"BUTTON",{class:!0,["data-svelte-h"]:!0}),ae(r)!=="svelte-h1x629"&&(r.textContent=s),c.forEach(E),this.h()},h(){M(r,"class","py-2 px-4 text-xl text-white rounded-xl bg-primary"),M(i,"class","flex justify-center mt-2")},m(l,c){Me(t,l,c),z(l,n,c),z(l,i,c),w(i,r),o=!0,a||(u=ue(r,"click",e[5]),a=!0)},p(l,c){const d={};c&4&&(d.solves=l[2]),t.$set(d)},i(l){o||(ne(t.$$.fragment,l),o=!0)},o(l){oe(t.$$.fragment,l),o=!1},d(l){l&&(E(n),E(i)),Ae(t,l),a=!1,u()}}}function Fi(e){let t,n,i,r,s=Ye(e[2])+"",o,a,u,l,c,d,f=Te(e[3].filter(e[4])),h=[];for(let m=0;m<f.length;m+=1)h[m]=Vt(Rt(e,f,m));let g=!e[1]&&jt(e);return{c(){t=x("div"),n=x("div"),i=x("h2"),r=J("Дундаж "),o=J(s),a=V(),u=x("div");for(let m=0;m<h.length;m+=1)h[m].c();l=V(),g&&g.c(),this.h()},l(m){t=P(m,"DIV",{class:!0});var _=q(t);n=P(_,"DIV",{class:!0});var v=q(n);i=P(v,"H2",{class:!0});var D=q(i);r=G(D,"Дундаж "),o=G(D,s),D.forEach(E),a=j(v),u=P(v,"DIV",{class:!0});var A=q(u);for(let S=0;S<h.length;S+=1)h[S].l(A);A.forEach(E),v.forEach(E),l=j(_),g&&g.l(_),_.forEach(E),this.h()},h(){M(i,"class","text-2xl text-center md:text-3xl"),M(u,"class","overflow-y-auto max-h-64"),M(n,"class","mx-auto w-full md:w-3/5"),M(t,"class",c=`${e[0]?"block":"hidden"} ${e[1]?"":"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"} z-20 w-5/6 max-w-6xl rounded-xl bg-white p-4 font-sans text-primary md:px-0 xl:w-auto`)},m(m,_){z(m,t,_),w(t,n),w(n,i),w(i,r),w(i,o),w(n,a),w(n,u);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(u,null);w(t,l),g&&g.m(t,null),d=!0},p(m,[_]){if((!d||_&4)&&s!==(s=Ye(m[2])+"")&&fe(o,s),_&12){f=Te(m[3].filter(m[4]));let v;for(v=0;v<f.length;v+=1){const D=Rt(m,f,v);h[v]?h[v].p(D,_):(h[v]=Vt(D),h[v].c(),h[v].m(u,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=f.length}m[1]?g&&(ct(),oe(g,1,1,()=>{g=null}),ft()):g?(g.p(m,_),_&2&&ne(g,1)):(g=jt(m),g.c(),ne(g,1),g.m(t,null)),(!d||_&3&&c!==(c=`${m[0]?"block":"hidden"} ${m[1]?"":"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"} z-20 w-5/6 max-w-6xl rounded-xl bg-white p-4 font-sans text-primary md:px-0 xl:w-auto`))&&M(t,"class",c)},i(m){d||(ne(g),d=!0)},o(m){oe(g),d=!1},d(m){m&&E(t),St(h,m),g&&g.d()}}}function Li(e,t,n){let i;at(e,kt,l=>n(2,i=l));let{isOpen:r=!1}=t,{isAdmin:s=!1}=t;const o=[5,12,25,50,100,200,300,500,1e3],a=l=>l<=i.length,u=()=>n(0,r=!1);return e.$$set=l=>{"isOpen"in l&&n(0,r=l.isOpen),"isAdmin"in l&&n(1,s=l.isAdmin)},[r,s,i,o,a,u]}class qi extends Ve{constructor(t){super(),je(this,t,Li,Fi,Re,{isOpen:0,isAdmin:1})}}function Ht(e,t,n){const i=e.slice();return i[23]=t[n],i[25]=n,i}function Ui(e){let t,n;return t=new Et({props:{icon:"ri:arrow-down-fill",width:"22"}}),{c(){Ie(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,r){Me(t,i,r),n=!0},i(i){n||(ne(t.$$.fragment,i),n=!0)},o(i){oe(t.$$.fragment,i),n=!1},d(i){Ae(t,i)}}}function Ri(e){let t,n;return t=new Et({props:{icon:"ri:arrow-up-fill",width:"22"}}),{c(){Ie(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,r){Me(t,i,r),n=!0},i(i){n||(ne(t.$$.fragment,i),n=!0)},o(i){oe(t.$$.fragment,i),n=!1},d(i){Ae(t,i)}}}function Vi(e){let t,n;return t=new Et({props:{icon:"ri:arrow-up-down-fill",width:"22"}}),{c(){Ie(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,r){Me(t,i,r),n=!0},i(i){n||(ne(t.$$.fragment,i),n=!0)},o(i){oe(t.$$.fragment,i),n=!1},d(i){Ae(t,i)}}}function Zt(e){let t,n,i,r;function s(){return e[13](e[23])}function o(){return e[14](e[23])}return n=new Bi({props:{openDeleteModal:s,openShowModal:o,order:e[3]==="none"?e[8].length-e[25]:e[25]+1,showDate:e[1],solve:e[23]}}),{c(){t=x("li"),Ie(n.$$.fragment),i=V()},l(a){t=P(a,"LI",{});var u=q(t);De(n.$$.fragment,u),i=j(u),u.forEach(E)},m(a,u){z(a,t,u),Me(n,t,null),w(t,i),r=!0},p(a,u){e=a;const l={};u&304&&(l.openDeleteModal=s),u&352&&(l.openShowModal=o),u&264&&(l.order=e[3]==="none"?e[8].length-e[25]:e[25]+1),u&2&&(l.showDate=e[1]),u&256&&(l.solve=e[23]),n.$set(l)},i(a){r||(ne(n.$$.fragment,a),r=!0)},o(a){oe(n.$$.fragment,a),r=!1},d(a){a&&E(t),Ae(n)}}}function ji(e){let t,n="Уг эвлүүлэлтийг устгах уу?";return{c(){t=x("p"),t.textContent=n,this.h()},l(i){t=P(i,"P",{class:!0,["data-svelte-h"]:!0}),ae(t)!=="svelte-1l25qom"&&(t.textContent=n),this.h()},h(){M(t,"class","text-lg text-primary")},m(i,r){z(i,t,r)},p:qe,d(i){i&&E(t)}}}function $t(e){let t,n,i,r,s=(e[3]==="none"?e[8].length-e[8].findIndex(e[17]):e[8].findIndex(e[18])+1)+"",o,a,u,l,c=ye(e[5])+"",d,f,h,g,m="+2",_,v,D="DNF",A,S,L="✕",O,F,U,W,k="Холилт",H,$,te,re,T,R='<p class="text-xl">Тайлбар</p> <input type="text" placeholder="Тайлбар бичнэ үү" class="mt-2 w-full rounded-lg border border-primary p-2"/>',Be,de,ze='<button value="cancel" formmethod="dialog" class="rounded-xl bg-primary py-2 px-4 text-xl text-white">Цуцлах</button> <button class="rounded-xl bg-primary py-2 px-4 text-xl text-white">Хадгалах</button>',Pe,Q;return{c(){t=x("dialog"),n=x("div"),i=x("h2"),r=J("Эвлүүлэлт №"),o=J(s),a=V(),u=x("div"),l=x("span"),d=J(c),f=V(),h=x("div"),g=x("button"),g.textContent=m,_=V(),v=x("button"),v.textContent=D,A=V(),S=x("button"),S.textContent=L,O=V(),F=x("div"),U=x("div"),W=x("p"),W.textContent=k,H=V(),$=x("input"),re=V(),T=x("div"),T.innerHTML=R,Be=V(),de=x("form"),de.innerHTML=ze,this.h()},l(N){t=P(N,"DIALOG",{class:!0});var B=q(t);n=P(B,"DIV",{class:!0});var X=q(n);i=P(X,"H2",{class:!0});var pe=q(i);r=G(pe,"Эвлүүлэлт №"),o=G(pe,s),pe.forEach(E),a=j(X),u=P(X,"DIV",{class:!0});var ge=q(u);l=P(ge,"SPAN",{});var K=q(l);d=G(K,c),K.forEach(E),f=j(ge),h=P(ge,"DIV",{class:!0});var le=q(h);g=P(le,"BUTTON",{class:!0,["data-svelte-h"]:!0}),ae(g)!=="svelte-11ma2lw"&&(g.textContent=m),_=j(le),v=P(le,"BUTTON",{class:!0,["data-svelte-h"]:!0}),ae(v)!=="svelte-lyk91e"&&(v.textContent=D),A=j(le),S=P(le,"BUTTON",{class:!0,["data-svelte-h"]:!0}),ae(S)!=="svelte-107a9ih"&&(S.textContent=L),le.forEach(E),ge.forEach(E),O=j(X),F=P(X,"DIV",{class:!0});var ve=q(F);U=P(ve,"DIV",{class:!0});var Se=q(U);W=P(Se,"P",{class:!0,["data-svelte-h"]:!0}),ae(W)!=="svelte-pzuz2s"&&(W.textContent=k),H=j(Se),$=P(Se,"INPUT",{type:!0,class:!0}),Se.forEach(E),re=j(ve),T=P(ve,"DIV",{class:!0,["data-svelte-h"]:!0}),ae(T)!=="svelte-123huh6"&&(T.innerHTML=R),Be=j(ve),de=P(ve,"FORM",{method:!0,class:!0,["data-svelte-h"]:!0}),ae(de)!=="svelte-hpyi53"&&(de.innerHTML=ze),ve.forEach(E),X.forEach(E),B.forEach(E),this.h()},h(){M(i,"class","text-center text-2xl md:text-3xl"),M(g,"class","text-red-500"),M(v,"class","text-primary"),M(S,"class","text-red-500"),M(h,"class","flex gap-4"),M(u,"class","flex w-full items-center justify-between p-2 text-2xl text-primary"),M(W,"class","text-xl"),M($,"type","text"),$.value=te=e[5].scramble,$.disabled=!0,M($,"class","mt-2 w-full rounded-lg border border-primary p-2"),M(U,"class","mt-2"),M(T,"class","mt-2"),M(de,"method","dialog"),M(de,"class","flex items-center justify-center gap-12 pt-4"),M(F,"class","flex flex-col gap-2 pt-2"),M(n,"class","mx-auto w-full md:w-3/5"),M(t,"class","w-full rounded-xl bg-background p-4 font-sans text-primary md:w-3/5 md:px-0")},m(N,B){z(N,t,B),w(t,n),w(n,i),w(i,r),w(i,o),w(n,a),w(n,u),w(u,l),w(l,d),w(u,f),w(u,h),w(h,g),w(h,_),w(h,v),w(h,A),w(h,S),w(n,O),w(n,F),w(F,U),w(U,W),w(U,H),w(U,$),w(F,re),w(F,T),w(F,Be),w(F,de),e[22](t),Pe||(Q=[ue(g,"click",e[19]),ue(v,"click",e[20]),ue(S,"click",e[21])],Pe=!0)},p(N,B){B&296&&s!==(s=(N[3]==="none"?N[8].length-N[8].findIndex(N[17]):N[8].findIndex(N[18])+1)+"")&&fe(o,s),B&32&&c!==(c=ye(N[5])+"")&&fe(d,c),B&32&&te!==(te=N[5].scramble)&&$.value!==te&&($.value=te)},d(N){N&&E(t),e[22](null),Pe=!1,et(Q)}}}function Hi(e){let t,n,i,r,s,o,a,u,l,c,d=Ye(e[2])+"",f,h,g,m,_,v,D,A,S,L,O,F,U,W,k;const H=[Vi,Ri,Ui],$=[];function te(N,B){return N[3]==="none"?0:N[3]==="asc"?1:N[3]==="desc"?2:-1}~(s=te(e))&&(o=$[s]=H[s](e));let re=Te(e[8]),T=[];for(let N=0;N<re.length;N+=1)T[N]=Zt(Ht(e,re,N));const R=N=>oe(T[N],1,1,()=>{T[N]=null});function Be(N){e[15](N)}let de={okFunction:e[9],$$slots:{default:[ji]},$$scope:{ctx:e}};e[4]!==void 0&&(de.isOpen=e[4]),v=new ki({props:de}),ut.push(()=>Bt(v,"isOpen",Be));function ze(N){e[16](N)}let Pe={};e[7]!==void 0&&(Pe.isOpen=e[7]),S=new qi({props:Pe}),ut.push(()=>Bt(S,"isOpen",ze));let Q=e[5]&&$t(e);return{c(){t=x("div"),n=x("div"),i=x("div"),r=x("button"),o&&o.c(),a=V(),u=x("div"),l=x("button"),c=J("Mean "),f=J(d),h=V(),g=x("ul");for(let N=0;N<T.length;N+=1)T[N].c();_=V(),Ie(v.$$.fragment),A=V(),Ie(S.$$.fragment),O=V(),Q&&Q.c(),F=Ot(),this.h()},l(N){t=P(N,"DIV",{class:!0});var B=q(t);n=P(B,"DIV",{class:!0});var X=q(n);i=P(X,"DIV",{class:!0});var pe=q(i);r=P(pe,"BUTTON",{class:!0});var ge=q(r);o&&o.l(ge),ge.forEach(E),pe.forEach(E),a=j(X),u=P(X,"DIV",{class:!0});var K=q(u);l=P(K,"BUTTON",{});var le=q(l);c=G(le,"Mean "),f=G(le,d),le.forEach(E),K.forEach(E),X.forEach(E),h=j(B),g=P(B,"UL",{class:!0});var ve=q(g);for(let Se=0;Se<T.length;Se+=1)T[Se].l(ve);ve.forEach(E),B.forEach(E),_=j(N),De(v.$$.fragment,N),A=j(N),De(S.$$.fragment,N),O=j(N),Q&&Q.l(N),F=Ot(),this.h()},h(){M(r,"class","h-5 translate-x-4"),M(i,"class","flex items-center"),M(u,"class","col-span-2 flex justify-start"),M(n,"class","grid w-full grid-cols-3 items-center rounded-t-xl bg-primary py-2 text-lg text-white"),M(g,"class","scrollbar mr-2 flex-grow overflow-y-auto p-4"),M(t,"class",m=`${e[0]?"max-h-96 min-h-[200px]":"mx-4 flex-grow"} flex flex-col overflow-y-auto rounded-xl bg-secondary`)},m(N,B){z(N,t,B),w(t,n),w(n,i),w(i,r),~s&&$[s].m(r,null),w(n,a),w(n,u),w(u,l),w(l,c),w(l,f),w(t,h),w(t,g);for(let X=0;X<T.length;X+=1)T[X]&&T[X].m(g,null);z(N,_,B),Me(v,N,B),z(N,A,B),Me(S,N,B),z(N,O,B),Q&&Q.m(N,B),z(N,F,B),U=!0,W||(k=[ue(r,"click",e[11]),ue(l,"click",e[12])],W=!0)},p(N,[B]){let X=s;if(s=te(N),s!==X&&(o&&(ct(),oe($[X],1,1,()=>{$[X]=null}),ft()),~s?(o=$[s],o||(o=$[s]=H[s](N),o.c()),ne(o,1),o.m(r,null)):o=null),(!U||B&4)&&d!==(d=Ye(N[2])+"")&&fe(f,d),B&378){re=Te(N[8]);let K;for(K=0;K<re.length;K+=1){const le=Ht(N,re,K);T[K]?(T[K].p(le,B),ne(T[K],1)):(T[K]=Zt(le),T[K].c(),ne(T[K],1),T[K].m(g,null))}for(ct(),K=re.length;K<T.length;K+=1)R(K);ft()}(!U||B&1&&m!==(m=`${N[0]?"max-h-96 min-h-[200px]":"mx-4 flex-grow"} flex flex-col overflow-y-auto rounded-xl bg-secondary`))&&M(t,"class",m);const pe={};B&67108864&&(pe.$$scope={dirty:B,ctx:N}),!D&&B&16&&(D=!0,pe.isOpen=N[4],yt(()=>D=!1)),v.$set(pe);const ge={};!L&&B&128&&(L=!0,ge.isOpen=N[7],yt(()=>L=!1)),S.$set(ge),N[5]?Q?Q.p(N,B):(Q=$t(N),Q.c(),Q.m(F.parentNode,F)):Q&&(Q.d(1),Q=null)},i(N){if(!U){ne(o);for(let B=0;B<re.length;B+=1)ne(T[B]);ne(v.$$.fragment,N),ne(S.$$.fragment,N),U=!0}},o(N){oe(o),T=T.filter(Boolean);for(let B=0;B<T.length;B+=1)oe(T[B]);oe(v.$$.fragment,N),oe(S.$$.fragment,N),U=!1},d(N){N&&(E(t),E(_),E(A),E(O),E(F)),~s&&$[s].d(),St(T,N),Ae(v,N),Ae(S,N),Q&&Q.d(N),W=!1,et(k)}}}function zt(e,t){if(e.status==="Ok"&&t.status==="Ok")return e.time-t.time;if(e.status==="Dnf"&&t.status==="Dnf")return 0;if(e.status==="Dnf")return 1;if(t.status==="Dnf")return-1;let n=e.time,i=t.time;return e.status==="Plus2"&&(n+=2e3),t.status==="Plus2"&&(i+=2e3),n-i}function Zi(e,t,n){let i,r,s;at(e,kt,k=>n(2,r=k)),at(e,Gn,k=>n(3,s=k));let{mobile:o=!1}=t,{showDate:a=!1}=t,u=!1,l,c,d=!1;async function f(){if(!l)return;(await(await fetch(`/api/solve/${l.id}`,{method:"DELETE"})).json()).success===!0&&(ni(l.id),n(4,u=!1))}async function h(k){if(!l)return;let H;if(k!=="Ok"&&l.status!=="Ok"&&k!==l.status)return;l.status===k?H="Ok":H=k;const te=await(await fetch(`/api/solve/${l.id}`,{method:"PUT",body:JSON.stringify({status:H})})).json();te.success===!0&&Gt(te.solve)}Tt.subscribe(async k=>{k.open&&(n(5,l=k),c.showModal())});const g=k=>{k.currentTarget.blur(),Di()},m=()=>n(7,d=!0),_=k=>{n(5,l=k),n(4,u=!0)},v=k=>{n(5,l=k),c.showModal()};function D(k){u=k,n(4,u)}function A(k){d=k,n(7,d)}const S=k=>k===l,L=k=>k===l,O=k=>{h("Plus2"),k.currentTarget.blur()},F=k=>{h("Dnf"),k.currentTarget.blur()},U=k=>{k.currentTarget.blur(),c.close(),n(4,u=!0)};function W(k){ut[k?"unshift":"push"](()=>{c=k,n(6,c)})}return e.$$set=k=>{"mobile"in k&&n(0,o=k.mobile),"showDate"in k&&n(1,a=k.showDate)},e.$$.update=()=>{e.$$.dirty&12&&n(8,i=s==="asc"?r.slice().sort((k,H)=>zt(k,H)):s==="desc"?r.slice().sort((k,H)=>zt(H,k)):r.slice().reverse())},[o,a,r,s,u,l,c,d,i,f,h,g,m,_,v,D,A,S,L,O,F,U,W]}class lr extends Ve{constructor(t){super(),je(this,t,Zi,Hi,Re,{mobile:0,showDate:1})}}export{ki as M,lr as S,Qi as a,Tt as b,Je as c,sr as d,Ne as e,rr as f,nr as g,er as h,Yi as i,tr as j,Gn as k,Ti as l,ye as m,ir as n,Nt as o,lt as p,Ct as q,qi as r,Xi as s,or as t};
